import { useEffect, useRef } from "react";
import { gsap } from "gsap";

export const ByblosLogo = () => {
  const svgRef = useRef<SVGSVGElement | null>(null);

  useEffect(() => {
    if (!svgRef.current) return;

    const pages = svgRef.current.querySelectorAll<SVGRectElement>(".page");

    // Todas las páginas rotan desde la misma base (lomo)
    gsap.set(pages, {
      transformOrigin: "bottom left", // pivote en la base del lomo
      rotation: 20,                  // posición inicial como “1 en punto”
    });

    // Animación: de 1 a 11 (20° → -20°)
    gsap.to(pages, {
      rotation: -20, 
      duration: 1,
      ease: "power2.inOut",
      repeat: -1,
      yoyo: true,
      stagger: 0.15,
    });
  }, []);

  return (
    <svg ref={svgRef} width="260" height="70" viewBox="-5 0 450 100">
      {/* Grupo rotado 90° a la izquierda */}
      <g transform="rotate(-90 100 -10) translate(1, -79) scale(0.9)"> {/* -90° alrededor del centro del SVG */}
        {/* Páginas */}
        <rect className="page" x="50" y="70" width="40" height="4" fill="#333333" />
        <rect className="page" x="50" y="74" width="40" height="4" fill="#333333" />
        <rect className="page" x="50" y="78" width="40" height="4" fill="#333333" />
        <rect className="page" x="50" y="82" width="40" height="4" fill="#333333" />
        <rect className="page" x="50" y="86" width="40" height="4" fill="#333333" />
      </g>
      <path
        d="M25.12 1.31999C32.24 1.31999 38.2 1.99999 43 3.36C47.88 4.72 51.52 6.96 53.92 10.08C56.4 13.2 57.64 17.36 57.64 22.56C57.64 25.92 57 28.92 55.72 31.56C54.52 34.12 52.68 36.28 50.2 38.04C47.8 39.72 44.84 40.88 41.32 41.52V42.12C44.92 42.68 48.16 43.72 51.04 45.24C54 46.76 56.32 48.92 58 51.72C59.68 54.52 60.52 58.16 60.52 62.64C60.52 67.84 59.32 72.28 56.92 75.96C54.52 79.56 51.08 82.32 46.6 84.24C42.2 86.08 36.92 87 30.76 87H0.639999V1.31999H25.12ZM27.28 37.8C34.64 37.8 39.68 36.64 42.4 34.32C45.12 31.92 46.48 28.4 46.48 23.76C46.48 19.04 44.8 15.68 41.44 13.68C38.16 11.6 32.88 10.56 25.6 10.56H11.44V37.8H27.28ZM11.44 46.8V77.88H28.72C36.32 77.88 41.6 76.4 44.56 73.44C47.52 70.48 49 66.6 49 61.8C49 58.76 48.32 56.12 46.96 53.88C45.68 51.64 43.48 49.92 40.36 48.72C37.32 47.44 33.16 46.8 27.88 46.8H11.44Z"
        fill="#292727" />
    <path
        id="letter-y"
        d="M103.407 43.44L125.727 1.31999H137.367L108.807 53.76V87H98.0069V54.24L69.4469 1.31999H81.2069L103.407 43.44Z"
        fill="#292727" />
    <path
        d="M175.936 1.31999C183.056 1.31999 189.016 1.99999 193.816 3.36C198.696 4.72 202.336 6.96 204.736 10.08C207.216 13.2 208.456 17.36 208.456 22.56C208.456 25.92 207.816 28.92 206.536 31.56C205.336 34.12 203.496 36.28 201.016 38.04C198.616 39.72 195.656 40.88 192.136 41.52V42.12C195.736 42.68 198.976 43.72 201.856 45.24C204.816 46.76 207.136 48.92 208.816 51.72C210.496 54.52 211.336 58.16 211.336 62.64C211.336 67.84 210.136 72.28 207.736 75.96C205.336 79.56 201.896 82.32 197.416 84.24C193.016 86.08 187.736 87 181.576 87H151.456V1.31999H175.936ZM178.096 37.8C185.456 37.8 190.496 36.64 193.216 34.32C195.936 31.92 197.296 28.4 197.296 23.76C197.296 19.04 195.616 15.68 192.256 13.68C188.976 11.6 183.696 10.56 176.416 10.56H162.256V37.8H178.096ZM162.256 46.8V77.88H179.536C187.136 77.88 192.416 76.4 195.376 73.44C198.336 70.48 199.816 66.6 199.816 61.8C199.816 58.76 199.136 56.12 197.776 53.88C196.496 51.64 194.296 49.92 191.176 48.72C188.136 47.44 183.976 46.8 178.696 46.8H162.256Z"
        fill="#292727" />
    <path d="M231.902 87V1.31999H242.702V77.4H280.143V87H231.902Z" fill="#292727" />
    <path
        d="M369.648 44.04C369.648 50.68 368.808 56.72 367.128 62.16C365.448 67.52 362.928 72.16 359.568 76.08C356.288 80 352.168 83 347.208 85.08C342.328 87.16 336.648 88.2 330.168 88.2C323.448 88.2 317.608 87.16 312.648 85.08C307.688 82.92 303.568 79.92 300.288 76.08C297.008 72.16 294.568 67.48 292.968 62.04C291.368 56.6 290.568 50.56 290.568 43.92C290.568 35.12 292.008 27.44 294.888 20.88C297.768 14.32 302.128 9.2 307.968 5.52C313.888 1.84 321.328 -3.8147e-06 330.288 -3.8147e-06C338.848 -3.8147e-06 346.048 1.84 351.888 5.52C357.728 9.12 362.128 14.24 365.088 20.88C368.128 27.44 369.648 35.16 369.648 44.04ZM301.968 44.04C301.968 51.24 302.968 57.44 304.968 62.64C306.968 67.84 310.048 71.84 314.208 74.64C318.448 77.44 323.768 78.84 330.168 78.84C336.648 78.84 341.928 77.44 346.008 74.64C350.168 71.84 353.248 67.84 355.248 62.64C357.248 57.44 358.248 51.24 358.248 44.04C358.248 33.24 356.008 24.8 351.528 18.72C347.048 12.56 339.968 9.48 330.288 9.48C323.808 9.48 318.448 10.88 314.208 13.68C310.048 16.4 306.968 20.36 304.968 25.56C302.968 30.68 301.968 36.84 301.968 44.04Z"
        fill="#292727" />
    <path
        d="M439.638 64.08C439.638 69.2 438.398 73.56 435.918 77.16C433.438 80.68 429.878 83.4 425.238 85.32C420.678 87.24 415.278 88.2 409.038 88.2C405.838 88.2 402.758 88.04 399.798 87.72C396.918 87.4 394.278 86.96 391.878 86.4C389.478 85.76 387.358 85 385.518 84.12V73.8C388.398 75.08 391.958 76.24 396.198 77.28C400.518 78.32 404.958 78.84 409.518 78.84C413.758 78.84 417.318 78.28 420.198 77.16C423.078 76.04 425.238 74.44 426.678 72.36C428.118 70.28 428.838 67.84 428.838 65.04C428.838 62.24 428.238 59.88 427.038 57.96C425.838 56.04 423.758 54.28 420.798 52.68C417.918 51 413.878 49.24 408.678 47.4C404.998 46.04 401.758 44.6 398.958 43.08C396.238 41.48 393.958 39.68 392.118 37.68C390.278 35.68 388.878 33.4 387.918 30.84C387.038 28.28 386.598 25.32 386.598 21.96C386.598 17.4 387.758 13.52 390.078 10.32C392.398 7.04 395.598 4.52 399.678 2.76C403.838 0.999995 408.598 0.119995 413.958 0.119995C418.678 0.119995 422.998 0.559994 426.918 1.43999C430.838 2.31999 434.398 3.48 437.598 4.92L434.238 14.16C431.278 12.88 428.038 11.8 424.518 10.92C421.078 10.04 417.478 9.59999 413.718 9.59999C410.118 9.59999 407.118 10.12 404.718 11.16C402.318 12.2 400.518 13.68 399.318 15.6C398.118 17.44 397.518 19.6 397.518 22.08C397.518 24.96 398.118 27.36 399.318 29.28C400.518 31.2 402.478 32.92 405.198 34.44C407.918 35.96 411.598 37.6 416.238 39.36C421.278 41.2 425.518 43.2 428.958 45.36C432.478 47.44 435.118 49.96 436.878 52.92C438.718 55.88 439.638 59.6 439.638 64.08Z"
        fill="#292727" />
    </svg>
  );
};
